!function(t){"use strict";function i(){this.frames=[],this.lastId=0,this.raf=e,this.batch={hash:{},read:[],write:[],mode:null}}var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};i.prototype.read=function(t,i){var e=this.add("read",t,i),n=e.id;this.batch.read.push(e.id);var o="reading"===this.batch.mode||this.batch.scheduled;return o?n:(this.scheduleBatch(),n)},i.prototype.write=function(t,i){var e=this.add("write",t,i),n=this.batch.mode,o=e.id;this.batch.write.push(e.id);var r="writing"===n||"reading"===n||this.batch.scheduled;return r?o:(this.scheduleBatch(),o)},i.prototype.defer=function(t,i,e){"function"==typeof t&&(e=i,i=t,t=1);var n=this,o=t-1;return this.schedule(o,function(){n.run({fn:i,ctx:e})})},i.prototype.clear=function(t){if("function"==typeof t)return this.clearFrame(t);var i=this.batch.hash[t];if(i){var e=this.batch[i.type],n=e.indexOf(t);delete this.batch.hash[t],~n&&e.splice(n,1)}},i.prototype.clearFrame=function(t){var i=this.frames.indexOf(t);~i&&this.frames.splice(i,1)},i.prototype.scheduleBatch=function(){var t=this;this.schedule(0,function(){t.batch.scheduled=!1,t.runBatch()}),this.batch.scheduled=!0},i.prototype.uniqueId=function(){return++this.lastId},i.prototype.flush=function(t){for(var i;i=t.shift();)this.run(this.batch.hash[i])},i.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(t){throw this.runBatch(),t}},i.prototype.add=function(t,i,e){var n=this.uniqueId();return this.batch.hash[n]={id:n,fn:i,ctx:e,type:t}},i.prototype.run=function(t){var i=t.ctx||this,e=t.fn;if(delete this.batch.hash[t.id],!this.onError)return e.call(i);try{e.call(i)}catch(n){this.onError(n)}},i.prototype.loop=function(){var t=this,i=this.raf;this.looping||(i(function e(){var n=t.frames.shift();t.frames.length?i(e):t.looping=!1,n&&n()}),this.looping=!0)},i.prototype.schedule=function(t,i){return this.frames[t]?this.schedule(t+1,i):(this.loop(),this.frames[t]=i)},t=t||new i,"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):window.fastdom=t}(window.fastdom),function(t,i,e,n){"use strict";t.CurrentWidth=e.extend({},{lastKnownWidth:-1,working:!1,isWorking:function(){return"number"==typeof this.working},getClientWidth:function(){var t="Requesting the width before this object has had a chance to do a first read of the client's width";return-1===this.lastKnownWidth&&console.warn("current-width::getClientWidth: %s",t),this.lastKnownWidth},trackClientWidth:function(){var t;this.isWorking()||(t=n.read(function(){this.lastKnownWidth=e(i).width(),this.clearWorking()},this),this.working=t)},clearWorking:function(){this.isWorking()&&(n.clear(this.working),this.working=!1)},readySetGo:function(){this.lastKnownWidth=e(i).width(),e(i).on("resize",e.proxy(this.trackClientWidth,this)),e(i).on("pagehide",e.proxy(this.clearWorking,this))}},t.CurrentWidth),t.CurrentWidth.readySetGo()}(CNN,window,jQuery,fastdom),function(t,i,e,n){"use strict";t.CurrentScrollTop=e.extend({},{lastKnownScrollTop:-1,working:!1,isWorking:function(){return"number"==typeof this.working},getClientScrollTop:function(){var t="Requesting the ScrollTop before this object has had a chance to do a first read of the client's ScrollTop";return-1===this.lastKnownScrollTop&&console.warn("current-ScrollTop::getClientScrollTop: %s",t),this.lastKnownScrollTop},trackClientScrollTop:function(){var t;this.isWorking()||(t=n.read(function(){this.lastKnownScrollTop=e(i).scrollTop(),this.clearWorking()},this),this.working=t)},clearWorking:function(){this.isWorking()&&(n.clear(this.working),this.working=!1)},readySetGo:function(){this.lastKnownScrollTop=e(i).scrollTop(),e(i).on("scroll",e.proxy(this.trackClientScrollTop,this)),e(i).on("pagehide",e.proxy(this.clearWorking,this))}},t.CurrentScrollTop),t.CurrentScrollTop.readySetGo()}(CNN,window,jQuery,fastdom),function(t,i){"use strict";var e=t.CurrentWidth&&"function"==typeof t.CurrentWidth.getClientWidth?t.CurrentWidth.getClientWidth():-1;i.desktopSSID=t.AdsConfig.desktopSSID,i.mobileSSID=t.AdsConfig.mobileSSID,i.randNum=Math.floor(9e4*Math.random())+1e4,i.ssid=600>e?i.mobileSSID:i.desktopSSID,i.fw_params={scan_delay:0,server:"bea4.v.fwmrm.net",network_id:t.AdsConfig.fwNetworkId,profile:t.AdsConfig.fwProfile,site_section_id:i.ssid,other_global_params:"csid="+i.ssid+"&pvrn="+i.randNum,key_values:"cnn_platform=offdeck"}}(CNN,window);
//# sourceMappingURL=cnn-base-header-lib.min.js.map